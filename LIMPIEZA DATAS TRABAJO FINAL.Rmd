#librerias
```{r}
library(rio)
library(haven)
library(htmltab)
library(tidyr)
library(stringr)#para limpieza de columnas (extracción de numeros, particiones)
library(magrittr)
library(readr) #para extraer un único numero de la columna
```
### DATAS
#extrayendo data de relación de provincias PRO
```{r}
LinkP='https://es.wikipedia.org/wiki/Anexo:Provincias_del_Per%C3%BA'
xpathP= '//*[@id="mw-content-text"]/div[1]/table'

PRO= htmltab(doc= LinkP, which = xpathP)
PRO[duplicated(PRO$Provincia),] #NO HAY 
```

```
#extrayendo data de INDICE DE DENSIDAD DEL ESTADO
```{r}
LinkIDE ='https://github.com/akemygonal/TRABAJO-ESTADISTICA/blob/master/IDE%20SUCIA.xlsx?raw=true'
IDE = import(LinkIDE)
```
### LIMPIEZA DE BASES
#limpieza PROVINCIAS REFERENCIAL
```{r}
#Seleccionamos las columnas a usar
PRO= PRO[,c(2,3)]

#eliminamos problema de tildes


#Eliminamos los espacios hallados en los nombres de la columna Provincia
gsub(' ',"",PRO$Provincia)
PRO$Provincia = gsub(' ',"",PRO$Provincia)
PRO$Provincia
PRO[PRO$Provincia=='Prov.Const.delCallao',"Provincia"]="Callao"
table(PRO$Provincia)
```

#limpieza IDE 
```{r}
#Seleccionamos las columnas a usar
IDE= IDE[, c(1,3,17)]

#Borramos las filas innecesarias
IDE=IDE[-c(1:4),]

#Cambiamos nombres de variables
#Chequeamos el nombre de las variables
names(IDE)

#Renombrando
names(IDE)[1] = "Ubigeo"
names(IDE)[2] = "Provincia"
names(IDE)[3] = "IDE_2017"
names(IDE)

#Eliminamos los espacios hallados en los nombres de la columna Provincia
gsub(' ',"",IDE$Provincia)
IDE$Provincia = gsub(' ',"",IDE$Provincia)
IDE$Provincia

```

#EXPORTAR DATAS
```{r}
export(IDE,"IDEALIMPIA.xlsx")
```
